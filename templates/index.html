{% extends 'boilerplate.html' %}

{% block content %}
    <div class="topnav">
      <a class="active">Home</a>
      <a href="analysis">Analysis</a>
    </div>
    <div style="padding-left:16px">
      <h2><center>Korean Tv Dataset</center></h2>
      <p><center>(Crud Operations)</center></p>
    </div>
    <div margin:auto;">
      <div class="container">
        <form action="#" method="post">
          <div class="row">
            <div class="form-group">
              <label for="exampleInputEmail1">Title</label>
              <input type="text" class="form-control" name="title" placeholder="Title">
            </div>
          </div>
          <div class="row">
            <div class="form-group">
              <label for="exampleInputPassword1">Rating</label>
              <input type="text" class="form-control" name="rating" placeholder="Rating">
            </div>
          </div>
          <div class="row">
              <div class="form-group">
                <label for="exampleInputEmail1">Votes</label>
                <input type="text" class="form-control" name="votes" placeholder="Votes">
              </div>
          </div>
          <div class="row">
            <div class="form-group">
              <label for="exampleInputPassword1">Time</label>
              <input type="text" class="form-control" name="time" placeholder="Time">
            </div>
          </div>
          <div class="row">
            <div class="form-group">
              <label for="exampleInputEmail1">Genre</label>
              <input type="text" class="form-control" name="genre" placeholder="Genre">
            </div>
          </div>
          <div class="row">
            <div class="form-group">
              <label for="exampleInputPassword1">Stars</label>
              <input type="text" class="form-control" name="stars" placeholder="Stars">
            </div>
          </div>
          <button type="submit" class="btn btn-primary" margin:auto>Insert Data</button>
        </form>
      </div>
      <br>

      <div class="container">
            <table class="table">
              <thead>
                <tr>
                  <th scope="col">Title</th>
                  <th scope="col">Rating</th>
                  <th scope="col">Votes</th>
                  <th scope="col">Time</th>
                  <th scope="col">Genre</th>
                  <th scope="col">Stars</th>
                  <th scope="col">Update</th>
                  <th scope="col">Delete</th>
                </tr>
              </thead>
              <tbody>
                  {% for datas in data %}
                  <tr>
                  <td>{{ datas['Title'] }}</td>
                  <td>{{ datas['Rating'] }}</td>
                  <td>{{ datas['Votes'] }}</td>
                  <td>{{ datas['Time'] }}</td>
                  <td>{{ datas['Genre'] }}</td>
                  <td>{{ datas['Stars'] }}</td>
                  <td><button data-toggle="modal" data-target="#modaledit{{ datas['_id']['$oid'] }}"><i class='fas fa-edit' style='font-size:24px;color:green'></i></button></td>
                  <td><a href="/delete/{{ datas['_id']['$oid'] }}"><button><i class='fas fa-trash' style='font-size:24px;color:red'></i></button></a></td>
                </tr>
              </a>
                <div id="modaledit{{ datas['_id']['$oid'] }}" class="modal fade" role="dialog">
                  <div class="modal-dialog">
                     <div class="modal-content">
                        <div class="modal-header">
                           <button type="button" class="close" data-dismiss="modal">&times;</button>
                        </div>
                        <div class="modal-body">
                           <form action="/update/{{ datas['_id']['$oid'] }}" method="POST">


                              <div class="form-group">
                                 <label>Title:</label>
                                 <input type="text" class="form-control" name="title" value="{{ datas['Title'] }}">
                              </div>

                              <div class="form-group">
                                 <label>Rating:</label>
                                 <input type="text" class="form-control" name="rating" value="{{datas['Rating']}}">
                              </div>


                              <div class="form-group">
                                 <label>Votes:</label>
                                 <input type="text" class="form-control" name="votes" value="{{datas['Votes']}}">
                              </div>

                              <div class="form-group">
                                <label>Time:</label>
                                <input type="text" class="form-control" name="time" value="{{datas['Time']}}">
                             </div>

                             <div class="form-group">
                              <label>Genre:</label>
                              <input type="text" class="form-control" name="genre" value="{{datas['Genre']}}">
                           </div>

                           <div class="form-group">
                            <label>Stars:</label>
                            <input type="text" class="form-control" name="stars" value="{{datas['Stars']}}">
                         </div>


                              <div class="form-group">
                                 <button class="btn btn-primary" type="submit">Confirm</button>
                              </div>


                           </form>


                        </div>


                     </div>


                  </div>
                  {% endfor %}
              </tbody>
            </table>
          </div>
{% endblock content %}
